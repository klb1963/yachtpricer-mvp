üõ†Ô∏è YachtPricer: –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –ø–µ—Å–æ—á–Ω–∏—Ü—ã MVP

üéØ –¶–µ–ª—å —ç—Ç–∞–ø–∞
‚úÖ –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∂–∏–≤—É—é –ø–µ—Å–æ—á–Ω–∏—Ü—É –Ω–∞ sandbox.leonidk.de —Å —Ä–∞–±–æ—á–∏–º –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–º –æ—Å–Ω–æ–≤–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤ –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º UX.
‚úÖ –î–∞—Ç—å –∑–∞–∫–∞–∑—á–∏–∫—É –¥–æ—Å—Ç—É–ø –∏ —Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å.

‚∏ª

üìÜ –ù–µ–¥–µ–ª—è 1 ‚Äî –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –∫–∞—Ä–∫–∞—Å

üî∑ –î–µ–Ω—å 1‚Äì2
‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ VPS (Hetzner): Docker, Docker Compose, nginx
‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ) –¥–æ–º–µ–Ω–∞ sandbox.leonidk.de –Ω–∞ –ø–∞–ø–∫—É yachtpricer, SSL
‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Å –º–æ–Ω–æ—Ä–µ–ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

/frontend
/backend
/scraper (–∑–∞–≥–ª—É—à–∫–∞)
/ml (–∑–∞–≥–ª—É—à–∫–∞)

‚úÖ CI/CD: –±–∞–∑–æ–≤—ã–π workflow GitHub Actions (–¥–µ–ø–ª–æ–π –Ω–∞ VPS) ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω, –ø—Ä–æ–≤–µ—Ä–µ–Ω, –ø—É—Ç–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã (strip_components) ‚Äî —Å–∞–π—Ç —É—Å–ø–µ—à–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ø–æ push –≤ main.

üî∑ –î–µ–Ω—å 3‚Äì4
‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:
‚ÄÉ‚úÖ Frontend: React + Tailwind + i18next + Vite - DONE
‚ÄÉ‚úÖ Backend: NestJS + PostgreSQL + Prisma - DONE

‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø—É—Å–∫–∞ backend –∏ frontend –ª–æ–∫–∞–ª—å–Ω–æ - DONE  –∏ –Ω–∞ VPS

üî∑ Clerk –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–∫–ª—é—á–∏ –¥–ª—è dev + prod) ‚Äî dev –∏ prod –≥–æ—Ç–æ–≤—ã.

‚∏ª

üìÜ –ù–µ–¥–µ–ª—è 2 ‚Äî –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

üî∑ –î–µ–Ω—å 5‚Äì6
üìã –¢–∞–±–ª–∏—Ü–∞ ¬´–ê–Ω–∞–ª–∏–∑ —Ü–µ–Ω –∏ —Å–∫–∏–¥–æ–∫¬ª (React Table + Tailwind)

üöÄ –ö—Ä–∞—Ç–∫–∏–µ –ø–æ—è—Å–Ω–µ–Ω–∏—è:
‚úÖ –í—Å–µ UUID
‚úÖ –í Yacht.currentExtraServices —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É—Å–ª—É–≥ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON (–±–µ–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å–≤—è–∑–∏ –Ω–∞ –∫–∞–∂–¥—É—é –º–µ–ª–æ—á—å)
‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ü–µ–Ω/—É—Å–ª—É–≥ ‚Äî –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö PriceHistory –∏ ExtraServiceHistory —Å yachtId/weekSlotId
‚úÖ status –≤—ã–Ω–µ—Å–µ–Ω –≤ enum –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–ö–æ–ª–æ–Ω–∫–∏: –Ø—Ö—Ç–∞, –ü–µ—Ä–∏–æ–¥, –°—Ç–∞—Ç—É—Å, –¢–µ–∫—É—â–∞—è, –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã, ML, –°–∫–∏–¥–∫–∞ %, –ò—Ç–æ–≥ ‚Ç¨, –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ
–§–∏–ª—å—Ç—Ä—ã: –ø–æ –ø–µ—Ä–∏–æ–¥—É, —Ñ–ª–æ—Ç—É, —Å—Ç–∞—Ç—É—Å—É
–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–≤—è–∑—å: –°–∫–∏–¥–∫–∞ % ‚Üî –ò—Ç–æ–≥ ‚Ç¨

üî∑ –î–µ–Ω—å 7
‚Ä¢ Backend endpoints –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã
‚Ä¢ –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ—Å—á—ë—Ç–∞ —Å–∫–∏–¥–æ–∫ –∏ –∏—Ç–æ–≥–æ–≤
‚Ä¢ –ú–æ–¥–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ä–æ–ª—è–º–∏: –∞–Ω–∞–ª–∏—Ç–∏–∫ / –¥–∏—Ä–µ–∫—Ç–æ—Ä

üî∑ –î–µ–Ω—å 8
‚Ä¢ UI: –≤—Ö–æ–¥/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (Clerk) - –≥–æ—Ç–æ–≤–æ –¥–ª—è dev, –Ω—É–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Google –¥–ª—è prod
‚Ä¢ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —è–∑—ã–∫–æ–≤ RU/EN/HR - DONE
‚Ä¢ UI: —á–µ—Ä–Ω–æ–≤–∏–∫–∏ –∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–æ–º

‚∏ª

üìÜ –ù–µ–¥–µ–ª—è 3 ‚Äî –§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∏ –¥–µ–º–æ

üî∑ –î–µ–Ω—å 9‚Äì10
‚Ä¢ –ò–º–ø–æ—Ä—Ç XLSX (SheetJS) + –≤–∞–ª–∏–¥–∞—Ü–∏—è
‚Ä¢ –ë–∞–∑–æ–≤—ã–π —ç–∫—Å–ø–æ—Ä—Ç PDF
‚Ä¢ –ó–∞–≥–ª—É—à–∫–∏ –¥–ª—è —Å–∫—Ä–∞–ø–∏–Ω–≥–∞ –∏ ML (–æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –º–æ–∫-–¥–∞–Ω–Ω—ã–µ)
‚Ä¢ UI: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–ø—Ä–æ—Å—Ç–∞—è —Ç–∞–±–ª–∏—Ü–∞)

üî∑ –î–µ–Ω—å 11
‚Ä¢ –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏ –Ω–∞ VPS
‚Ä¢ Smoke-—Ç–µ—Å—Ç—ã
‚Ä¢ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (README.md —Å –¥–æ—Å—Ç—É–ø–∞–º–∏ –∏ —Ä–æ–ª—è–º–∏)

‚∏ª

‚ú® –£–∂–µ —Å–¥–µ–ª–∞–Ω–æ

CRUD –¥–ª—è —è—Ö—Ç:
‚úÖ Backend: GET /yachts, GET /yachts/:id, POST /yachts, PATCH /yachts/:id, DELETE /yachts/:id ‚Äî DONE
‚úÖ Prisma-–º–æ–¥–µ–ª—å Yacht —Å –ø–æ–ª—è–º–∏ inline —Å –ø–ª–∞–Ω–æ–º NauSYS (–≤–∫–ª—é—á–∞—è ownerName) ‚Äî DONE
‚úÖ Frontend: —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–ø–∏—Å–∫–∞, –ø—Ä–æ—Å–º–æ—Ç—Ä–∞, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Å–æ–∑–¥–∞–Ω–∏—è —è—Ö—Ç ‚Äî DONE
‚úÖ –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî DONE

Dashboard (Table / Cards) ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–æ 12.08.2025:
‚úÖ –§–∏–ª—å—Ç—Ä—ã, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, –ø–∞–≥–∏–Ω–∞—Ü–∏—è (frontend + backend) ‚Äî DONE
‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å Table / Cards —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ URL –∏ localStorage ‚Äî DONE
‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–æ—á–Ω–∞—è —Å–µ—Ç–∫–∞ –æ—Ç 1 –¥–æ 5 –∫–æ–ª–æ–Ω–æ–∫ ‚Äî DONE
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ —Ñ–æ—Ç–æ –¥–ª—è —Ç–∏–ø–æ–≤ —è—Ö—Ç (monohull, catamaran, trimaran, compromis) ‚Äî DONE
‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ü–≤–µ—Ç–∞ –∫–Ω–æ–ø–æ–∫ –∏ –≤–∏–¥–∏–º–æ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è ‚Äî DONE

‚∏ª

üîú –ü–æ–ª–µ–∑–Ω—ã–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (–æ—á–µ—Ä–µ–¥—å)
	1.	–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –±—ç–∫–µ (DTO + class-validator)
	‚Ä¢	CreateYachtDto, UpdateYachtDto, ValidationPipe
	2.	–ê–≤—Ç–æ–∑–∞–ø–∏—Å—å –≤ PriceHistory –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ü–µ–Ω—ã
	‚Ä¢	–ü—Ä–∏ PATCH —Å –Ω–æ–≤—ã–º basePrice ‚Äî —Å–æ–∑–¥–∞—ë–º –∑–∞–ø–∏—Å—å –≤ –∏—Å—Ç–æ—Ä–∏–∏
	3.	–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –Ω–µ–¥–µ–ª—å (WeekSlot)
	‚Ä¢	–ü—Ä–æ—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ —è—Ö—Ç—ã, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–æ—Ç–æ–≤
	4.	Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
	‚Ä¢	@nestjs/swagger ‚Äî –∂–∏–≤–æ–π /docs —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –º–æ–¥–µ–ª–µ–π
	5.	–£–ª—É—á—à–µ–Ω–∏–µ UX –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ
	‚Ä¢	–¢–æ—Å—Ç—ã –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏/–æ—à–∏–±–∫–µ, –º–æ–¥–∞–ª—å–Ω—ã–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω—ã

‚∏ª

üìä –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
‚Ä¢ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –∑–∞–∫–∞–∑—á–∏–∫—É —Å –∫—Ä–∞—Ç–∫–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
‚Ä¢ –°–æ–±—Ä–∞—Ç—å –ø–µ—Ä–≤—ã–µ –æ—Ç–∑—ã–≤—ã

‚∏ª

# üìÜ –≠—Ç–∞–ø 2 ‚Äî –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —É–ª—É—á—à–µ–Ω–∏—è UX

üî∑ 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å NauSYS
	‚Ä¢	–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ API NauSYS (—Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º).
	‚Ä¢	–ò–º–ø–æ—Ä—Ç —Ñ–ª–æ—Ç–∞ —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏, —Ñ–æ—Ç–æ, —Ü–µ–Ω–∞–º–∏.
	‚Ä¢	–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é / –∫–Ω–æ–ø–∫–∞).
	‚Ä¢	–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —è—Ö—Ç –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥–µ—Ñ–æ–ª—Ç–Ω—ã—Ö —Ñ–æ—Ç–æ.
	‚Ä¢	–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

üî∑ 2. –ú–æ–¥—É–ª—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö —Ü–µ–Ω (Scraper)
	‚Ä¢	API: GET /competitors-prices, POST /scrape/start, GET /scrape/status.
	‚Ä¢	–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ 1‚Äì2 —Å–∞–π—Ç–æ–≤ (BoatAround, Searadar).
	‚Ä¢	UI: —Å–ø–∏—Å–æ–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, —á–µ–∫–±–æ–∫—Å—ã ‚Äú–ê–∫—Ç–∏–≤–µ–Ω/–ù–µ –∞–∫—Ç–∏–≤–µ–Ω‚Äù, –∫–Ω–æ–ø–∫–∞ ‚Äú–û–±–Ω–æ–≤–∏—Ç—å —Å–µ–π—á–∞—Å‚Äù.
	‚Ä¢	–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ competitor_prices —Å yachtId –∏ week_start.

üî∑ 3. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ API
	‚Ä¢	–°—É—â–Ω–æ—Å—Ç—å WeekSlot: –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞, —Å—Ç–∞—Ç—É—Å –∑–∞–≥—Ä—É–∑–∫–∏, —Ü–µ–Ω–∞, –∏—Å—Ç–æ—Ä–∏—è.
	‚Ä¢	API –¥–ª—è —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –Ω–µ–¥–µ–ª—å.
	‚Ä¢	–ü—Ä–∏–≤—è–∑–∫–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö —Ü–µ–Ω –∫ –Ω–µ–¥–µ–ª–µ.

üî∑ 4. –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ ML (—à–∞–≥ 1)
	‚Ä¢	–†–∞—Å—á–µ—Ç TOP1 / TOP3 –ø–æ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞–º (—Å—Ä–µ–¥–Ω–µ–µ, –º–µ–¥–∏–∞–Ω–∞, —Ä–∞–∑–±—Ä–æ—Å).
	‚Ä¢	API –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–π —Å–∫–∏–¥–∫–∏ –¥–æ –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤ TOP3.
	‚Ä¢	–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –≤ Dashboard.
	‚Ä¢	–ó–∞–≥–ª—É—à–∫–∞ ML-–º–æ–¥—É–ª—è —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

üî∑ 5. –£–ª—É—á—à–µ–Ω–∏—è UX
	‚Ä¢	YachtDetailsPage: –±–ª–æ–∫ ‚Äú–î–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–µ–¥–µ–ª–∏‚Äù, —Ç–∞–±–ª–∏—Ü–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö —Ü–µ–Ω, –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.
	‚Ä¢	–¢–æ—Å—Ç—ã –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏/–æ—à–∏–±–∫–µ.
	‚Ä¢	–ú–æ–¥–∞–ª—å–Ω—ã–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.
	‚Ä¢	–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω (—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ —Ç—ã—Å—è—á, —Å–∏–º–≤–æ–ª –≤–∞–ª—é—Ç—ã).
	‚Ä¢	–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

üî∑ 6. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
	‚Ä¢	Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API.
	‚Ä¢	README —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º API.
	‚Ä¢	Smoke-—Ç–µ—Å—Ç—ã –∫–ª—é—á–µ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤.
	‚Ä¢	–î–µ–º–æ –Ω–∞ sandbox —Å –º–æ–∫-–¥–∞–Ω–Ω—ã–º–∏.

üìÖ –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
	1.	Backend: NauSYS –∏–º–ø–æ—Ä—Ç ‚Üí WeekSlot API.
	2.	Frontend: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ–¥–µ–ª—å, —Ñ–æ—Ç–æ –ø–æ —Ç–∏–ø—É, –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ —Ü–µ–Ω—ã.
	3.	Scraper: –ø–µ—Ä–≤—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –≤—ã–≤–æ–¥.
	4.	–ê–Ω–∞–ª–∏—Ç–∏–∫–∞: —Ä–∞—Å—á—ë—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π TOP3 / TOP1.
	5.	UX: —Ç–æ—Å—Ç—ã, –º–æ–¥–∞–ª–∫–∏, —É–ª—É—á—à–µ–Ω–∏—è.
	6.	–¢–µ—Å—Ç—ã –∏ –¥–µ–ø–ª–æ–π.

	------------------
	–æ—Ç–ª–∏—á–Ω–æ, –¥–µ–ª–∞–µ–º ¬´—Ç–æ–Ω–∫–∏–π¬ª —Å–∫–µ–ª–µ—Ç —Å–∫—Ä–∞–ø–µ—Ä–∞ + —Å—Ç—ã–∫—É–µ–º –µ–≥–æ —Å –±—ç–∫–æ–º. –ù–∏–∂–µ –¥–∞—é –≥–æ—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã/—Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å ‚Äî —ç—Ç–æ —É–∂–µ —Ä–∞–±–æ—á–∏–π MVP-–ø–æ—Ç–æ–∫: Backend ‚Üí (HTTP) ‚Üí Scraper ‚Üí Backend —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

‚∏ª

1) –ë–î (Prisma): –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

–î–æ–±–∞–≤—å –≤ backend/prisma/schema.prisma:

enum ScrapeSource {
  BOATAROUND
  SEARADAR
}

enum JobStatus {
  PENDING
  RUNNING
  DONE
  FAILED
}

model CompetitorPrice {
  id               String       @id @default(uuid())
  yachtId          String?
  weekStart        DateTime
  source           ScrapeSource
  competitorYacht  String
  price            Decimal
  currency         String       @default("EUR")
  link             String?
  scrapedAt        DateTime     @default(now())
  raw              Json?

  @@index([yachtId, weekStart, source])
}

model ScrapeJob {
  id         String      @id @default(uuid())
  source     ScrapeSource
  status     JobStatus   @default(PENDING)
  params     Json
  startedAt  DateTime?   @default(now())
  finishedAt DateTime?
  error      String?
}

–ú–∏–≥—Ä–∞—Ü–∏—è:

docker compose exec backend npx prisma migrate dev --name add_scraper_models


‚∏ª

2) Scraper —Å–µ—Ä–≤–∏—Å (Python + FastAPI + Playwright)

2.1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞

/scraper
  ‚îú‚îÄ Dockerfile
  ‚îú‚îÄ requirements.txt
  ‚îî‚îÄ app/
     ‚îú‚îÄ __init__.py
     ‚îî‚îÄ main.py

2.2. scraper/Dockerfile

FROM mcr.microsoft.com/playwright/python:v1.46.0-focal

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# –ë—Ä–∞—É–∑–µ—Ä—ã —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ –±–∞–∑–æ–≤–æ–º –æ–±—Ä–∞–∑–µ playwright
COPY app ./app

ENV PORT=8001
EXPOSE 8001
CMD ["python", "-m", "app.main"]

2.3. scraper/requirements.txt

fastapi==0.110.0
uvicorn==0.29.0
pydantic==2.6.1

2.4. scraper/app/main.py

from fastapi import FastAPI, HTTPException
from pydantic import BaseModel, Field
from typing import List, Optional
import os

# MVP: –ø–æ–∫–∞ –≤–µ—Ä–Ω–µ–º ¬´–ø–æ–ª—É–º–æ–∫¬ª + –∫–∞—Ä–∫–∞—Å Playwright –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –ø–æ–∑–∂–µ
# —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ –ø–æ–∫–∞–∑–∞—Ç—å end-to-end.

app = FastAPI(title="YachtPricer Scraper", version="0.1.0")

class ScrapeParams(BaseModel):
    location: Optional[str] = None
    yacht_type: Optional[str] = Field(None, description="monohull | catamaran | ...")
    length_min: Optional[float] = None
    length_max: Optional[float] = None
    built_min: Optional[int] = None
    built_max: Optional[int] = None
    week_start: Optional[str] = Field(None, description="YYYY-MM-DD")
    limit: int = 10

class CompetitorItem(BaseModel):
    competitor_yacht: str
    price: float
    currency: str = "EUR"
    link: Optional[str] = None
    raw: Optional[dict] = None

class ScrapeResponse(BaseModel):
    source: str
    items: List[CompetitorItem]

@app.get("/health")
def health():
    return {"status": "ok"}

@app.post("/scrape/boataround", response_model=ScrapeResponse)
def scrape_boataround(params: ScrapeParams):
    # TODO: –†–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ Playwright ‚Äî –ø–æ–∑–∂–µ.
    # –°–µ–π—á–∞—Å ‚Äî –∑–∞–≥–ª—É—à–∫–∞ —Å –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.
    demo = [
        CompetitorItem(
            competitor_yacht="Bavaria 46 2019",
            price=4800,
            currency="EUR",
            link="https://www.boataround.com/some/listing",
            raw={"mock": True, "location": params.location},
        ),
        CompetitorItem(
            competitor_yacht="Jeanneau Sun Odyssey 45",
            price=4500,
            currency="EUR",
            link="https://www.boataround.com/some/listing-2",
            raw={"mock": True},
        ),
    ][: params.limit]
    return ScrapeResponse(source="BOATAROUND", items=demo)


‚∏ª

3) Docker Compose: –ø–æ–¥–∫–ª—é—á–∞–µ–º —Å–µ—Ä–≤–∏—Å

–í docker-compose.yml –¥–æ–±–∞–≤—å —Å–µ—Ä–≤–∏—Å scraper –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ backend:

services:
  backend:
    # ...
    environment:
      - DATABASE_URL=${DATABASE_URL}
      - SCRAPER_URL=http://scraper:8001
    depends_on:
      - db
      - scraper

  scraper:
    build: ./scraper
    container_name: yachtpricer-mvp-scraper-1
    ports:
      - "8001:8001"

–ó–∞–ø—É—Å–∫/–ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞:

docker compose up -d --build scraper backend

–ü—Ä–æ–≤–µ—Ä–∫–∞:

curl http://localhost:8001/health
# {"status":"ok"}


‚∏ª

4) Backend (NestJS): –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è —Å—Ç–∞—Ä—Ç–∞ —Å–∫—Ä–∞–ø–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–î–æ–±–∞–≤—å backend/src/scraper.controller.ts:

import {
  Body, Controller, Get, Post, Query, BadRequestException,
} from '@nestjs/common';
import { PrismaClient, Prisma, ScrapeSource, JobStatus } from '@prisma/client';

const prisma = new PrismaClient();

type StartScrapeDto = {
  source: 'BOATAROUND' | 'SEARADAR';
  yachtId?: string;
  weekStart?: string; // YYYY-MM-DD
  location?: string;
  yacht_type?: string;
  length_min?: number;
  length_max?: number;
  built_min?: number;
  built_max?: number;
  limit?: number;
};

@Controller()
export class ScraperController {
  private SCRAPER_URL = process.env.SCRAPER_URL || 'http://scraper:8001';

  @Get('competitors-prices')
  async listCompetitorPrices(
    @Query('yachtId') yachtId?: string,
    @Query('weekStart') weekStart?: string,
  ) {
    const where: Prisma.CompetitorPriceWhereInput = {
      AND: [
        yachtId ? { yachtId } : undefined,
        weekStart ? { weekStart: new Date(weekStart) } : undefined,
      ].filter(Boolean) as Prisma.CompetitorPriceWhereInput[],
    };
    const items = await prisma.competitorPrice.findMany({
      where, orderBy: { scrapedAt: 'desc' }, take: 200,
    });
    return { items };
  }

  @Post('scrape/start')
  async start(@Body() body: StartScrapeDto) {
    const { source } = body;
    if (!source) throw new BadRequestException('source is required');

    // –°–æ–∑–¥–∞–µ–º job
    const job = await prisma.scrapeJob.create({
      data: {
        source: source as ScrapeSource,
        status: JobStatus.RUNNING,
        params: body as any,
        startedAt: new Date(),
      },
    });

    // –í—ã–∑—ã–≤–∞–µ–º scraper-—Å–µ—Ä–≤–∏—Å
    const endpoint =
      source === 'BOATAROUND' ? '/scrape/boataround' : '/scrape/searadar';

    const fetchUrl = this.SCRAPER_URL + endpoint;
    let payload: any = {
      location: body.location,
      yacht_type: body.yacht_type,
      length_min: body.length_min,
      length_max: body.length_max,
      built_min: body.built_min,
      built_max: body.built_max,
      week_start: body.weekStart,
      limit: body.limit ?? 10,
    };

    try {
      const res = await fetch(fetchUrl, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload),
      });
      if (!res.ok) {
        const text = await res.text();
        throw new Error(`Scraper error: ${res.status} ${text}`);
      }
      const json: {
        source: string;
        items: Array<{
          competitor_yacht: string;
          price: number;
          currency?: string;
          link?: string;
          raw?: unknown;
        }>;
      } = await res.json();

      const weekStart = body.weekStart ? new Date(body.weekStart) : new Date();

      // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
      for (const it of json.items) {
        await prisma.competitorPrice.create({
          data: {
            yachtId: body.yachtId,
            weekStart,
            source: source as ScrapeSource,
            competitorYacht: it.competitor_yacht,
            price: String(it.price),
            currency: it.currency ?? 'EUR',
            link: it.link,
            raw: it.raw as Prisma.InputJsonValue,
          },
        });
      }

      await prisma.scrapeJob.update({
        where: { id: job.id },
        data: { status: JobStatus.DONE, finishedAt: new Date() },
      });

      return { success: true, jobId: job.id, saved: json.items.length };
    } catch (e: any) {
      await prisma.scrapeJob.update({
        where: { id: job.id },
        data: { status: JobStatus.FAILED, finishedAt: new Date(), error: e?.message ?? 'unknown' },
      });
      throw new BadRequestException(e?.message ?? 'scrape failed');
    }
  }
}

–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –≤ backend/src/app.module.ts:

import { Module } from '@nestjs/common';
import { AppController } from './app.controller';
import { YachtsController } from './yachts.controller';
import { ScraperController } from './scraper.controller';

@Module({
  imports: [],
  controllers: [AppController, YachtsController, ScraperController],
  providers: [],
})
export class AppModule {}

–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –±—ç–∫–µ–Ω–¥:

docker compose restart backend

–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ç–æ–∫–∞:

# 1) –∑–¥–æ—Ä–æ–≤—å–µ —Å–∫—Ä–∞–ø–µ—Ä–∞
curl http://localhost:8001/health

# 2) —Å—Ç–∞—Ä—Ç –∑–∞–¥–∞—á–∏ (–ø—Ä–∏–º–µ—Ä)
curl -X POST http://localhost:8000/scrape/start \
  -H 'Content-Type: application/json' \
  -d '{
    "source":"BOATAROUND",
    "yachtId":"b7e83156-b411-49d0-88fc-1e0b56a5a263",
    "weekStart":"2025-08-18",
    "location":"Split",
    "yacht_type":"monohull",
    "length_min":11,
    "length_max":14,
    "built_min":2015,
    "limit":5
  }'

# 3) –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ü–µ–Ω—ã
curl "http://localhost:8000/competitors-prices?yachtId=b7e8...&weekStart=2025-08-18"


‚∏ª

5) (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ø—Ä–æ—Å—Ç–∞—è —Ñ—Ä–æ–Ω—Ç-–∑–∞–≥–ª—É—à–∫–∞

–ü–æ–∑–∂–µ –¥–æ–±–∞–≤–∏–º –≤ Dashboard –±–ª–æ–∫:
	‚Ä¢	–∫–Ω–æ–ø–∫–∞ ‚ÄúUpdate now‚Äù ‚Üí POST /scrape/start
	‚Ä¢	—Ç–∞–±–ª–∏—Ü–∞ ‚ÄúCompetitors‚Äù ‚Üí GET /competitors-prices?yachtId=‚Ä¶&week=‚Ä¶

‚∏ª

–ß—Ç–æ –¥–∞–ª—å—à–µ (–±—ã—Å—Ç—Ä—ã–µ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç—ã)
	‚Ä¢	–ü–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π Playwright-–ø–∞—Ä—Å–∏–Ω–≥ –≤ scraper/app/main.py (–≤—Ç–æ—Ä—ã–º —à–∞–≥–æ–º, –∫–æ–≥–¥–∞ —É–±–µ–¥–∏–º—Å—è, —á—Ç–æ —Å–≤—è–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—é—Ç).
	‚Ä¢	–î–æ–±–∞–≤–∏—Ç—å ScrapeJob –≤ Swagger NestJS.
	‚Ä¢	–ü–∞–≥–∏–Ω–∞—Ü–∏—è/—Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è GET /competitors-prices.

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –∏–∑ —à–∞–≥–æ–≤ —Ö–æ—á–µ—Ç—Å—è —É–ø—Ä–æ—Å—Ç–∏—Ç—å –µ—â—ë —Å–∏–ª—å–Ω–µ–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–∫–∞ –Ω–µ –ø–∏—Å–∞—Ç—å job-—Ç–∞–±–ª–∏—Ü—É), —Å–∫–∞–∂–∏ ‚Äî –¥–∞–º —Å–æ–∫—Ä–∞—â—ë–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é.