services:
  workspace:
    image: mcr.microsoft.com/devcontainers/typescript-node:20
    volumes:
      - ..:/workspace:cached
      - workspace-frontend-node_modules:/workspace/frontend/node_modules
      - workspace-backend-node_modules:/workspace/backend/node_modules
    working_dir: /workspace
    command: sleep infinity
    # networks:  # можно вообще убрать — devcontainer подключится к default сети проекта
    #   - yachtpricer-net
    environment:
      VITE_CLERK_PUBLISHABLE_KEY: ${VITE_CLERK_PUBLISHABLE_KEY:-pk_test_dummy}

volumes:
  workspace-frontend-node_modules:
  workspace-backend-node_modules:

# networks:
#   yachtpricer-net:
#     external: false